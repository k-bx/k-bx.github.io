var bbplp=function(t){function e(){n(),i(),s(),o()}function n(){r.appendTo(a)}function i(){var e;a.css({position:"relative"}),p.css({position:"relative",zIndex:2}),c.css({position:"relative",zIndex:2}),r.css({overflow:"auto",position:"absolute",top:"0px",left:"0px",zIndex:1}),t(window).on("load",function(){e=a.outerHeight(),r.css({height:e})}),t(window).on("resize",function(){e=a.outerHeight(),r.css({height:e})})}function s(){c.bind("change paste keyup",function(){var e=t(this).val();t.ajax({url:bblpAJAX.ajaxurl,data:{action:"preview_action",content:e},success:function(t){r.html(t)},error:function(){r.html("Unable to render preview!")}})})}function o(){l.on("click",function(e){e.preventDefault(),r.css({position:"absolute",zIndex:1}),p.css({display:"block"}),c.css({display:"block"}),t(this).hasClass("active")||(t(this).addClass("active"),u.removeClass("active"))}),u.on("click",function(e){e.preventDefault(),r.css({position:"relative",zIndex:3}),p.css({display:"none"}),c.css({display:"none"}),t(this).hasClass("active")||(t(this).addClass("active"),l.removeClass("active"))})}var a=t(".bbp-the-content-wrapper"),c=t(".bbp-the-content-wrapper textarea"),p=t(".wp-editor-wrap"),r=t("#bbplp-preview-content"),l=(t("#bbplp-preview-content:hidden"),t("#bbplp-button-write")),u=t("#bbplp-button-preview");return{init:e}}(jQuery);bbplp.init();